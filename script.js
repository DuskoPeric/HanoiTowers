let copyOrder,towerFrom,towerTo,itemToMove,towers=[[],[],[]],moves=0,numberOfDisks=3;function startGame(e){for(let t=e;t>0;t--)towers[0].push(t)}function printDOM(){$(".towers").html(""),$("#moves").html(moves);for(let e=0;e<towers.length;e++){$(".towers").append("<div class='tower"+e+"'><div></div></div>");for(let t=towers[e].length-1;t>=0;t--)$(".tower"+e+">div").append("<div class='block"+towers[e][t]+"' ></div>")}}function switchBlock(e){const t=towers[e];if(towerFrom>=0){if(towerFrom==e)return towerFrom=-1,towerTo=-1,void $(".actionBtns button").removeClass("active");towerTo=e,(t[t.length-1]>itemToMove||t.length<1)&&(t.push(itemToMove),towers[towerFrom].pop(),towerFrom=-1,towerTo=-1,$(".actionBtns button").removeClass("active"),moves++,printDOM(),towers[2].length===copyOrder.length&&towers[2].every((e,t)=>e===copyOrder[t])&&($(".game").hide(),$(".moves span").html(moves),$(".win").show()))}else if(t.length>0)return towerFrom=e,$("#b"+e).addClass("active"),void(itemToMove=t[t.length-1])}$(".disk").click(function(){numberOfDisks=Number(this.dataset.nodisk),$(".disk").removeClass("active"),$(this).addClass("active")}),$("#start").click(function(){startGame(numberOfDisks),copyOrder=[...towers[0]],$(".first-screen").hide(),$(".game").show(),printDOM()}),$("#restart, #newgame").click(function(){$(".game").hide(),$(".win").hide(),$(".first-screen").show(),moves=0,towers=[[],[],[]]});